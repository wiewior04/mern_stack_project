{"ast":null,"code":"import{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{UserContext}from\"./UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(){var _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo,userInfo=_useContext.userInfo;useEffect(function(){fetch('http://localhost:4000/profile',{credentials:'include'}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});},[]);function logout(){fetch('http://localhost:4000/logout',{credentials:'include',method:'POST'});setUserInfo(null);}var username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"MyBlog\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Hello, \",username]}),/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"Create new post\"}),/*#__PURE__*/_jsx(\"a\",{onClick:logout,children:\"Logout\"})]}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]})]});}","map":{"version":3,"names":["useContext","useEffect","useState","Link","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_useContext","setUserInfo","userInfo","fetch","credentials","then","response","json","logout","method","username","children","to","className","onClick"],"sources":["/Users/akaczmarek/Desktop/usi-project/mern_stack_project/client/src/Header.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { UserContext } from \"./UserContext\";\n\nexport default function Header() {\n  const {setUserInfo, userInfo} = useContext(UserContext);\n  useEffect(() => {\n    fetch('http://localhost:4000/profile', {\n      credentials: 'include',\n    }).then(response => {\n      response.json().then(userInfo => {\n        setUserInfo(userInfo);\n      })\n    });\n  }, []);\n\n  function logout(){\n    fetch('http://localhost:4000/logout', {\n      credentials: 'include',\n      method: 'POST',\n    });\n    setUserInfo(null);\n  }\n\n  const username = userInfo?.username;\n\n    return(\n        <header>\n        <Link to=\"/\" className=\"logo\">MyBlog</Link>\n        <nav>\n          {username && (\n            <>\n            <span>Hello, {username}</span>\n            <Link to='/create'>Create new post</Link>\n            <a onClick={logout}>Logout</a>\n            </>\n          )}\n          {!username && (\n            <>\n            <Link to=\"/login\">Login</Link>\n            <Link to=\"/register\">Register</Link>\n            </>\n          )}\n        </nav>\n      </header>\n    );\n}"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE5C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,IAAAC,WAAA,CAAgCZ,UAAU,CAACI,WAAW,CAAC,CAAhDS,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAC5Bb,SAAS,CAAC,UAAM,CACdc,KAAK,CAAC,+BAA+B,CAAE,CACrCC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAH,QAAQ,CAAI,CAC/BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAM,MAAMA,CAAA,CAAE,CACfL,KAAK,CAAC,8BAA8B,CAAE,CACpCC,WAAW,CAAE,SAAS,CACtBK,MAAM,CAAE,MACV,CAAC,CAAC,CACFR,WAAW,CAAC,IAAI,CAAC,CACnB,CAEA,GAAM,CAAAS,QAAQ,CAAGR,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,QAAQ,CAEjC,mBACId,KAAA,WAAAe,QAAA,eACAjB,IAAA,CAACH,IAAI,EAACqB,EAAE,CAAC,GAAG,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,QAAM,CAAM,CAAC,cAC3Cf,KAAA,QAAAe,QAAA,EACGD,QAAQ,eACPd,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACAf,KAAA,SAAAe,QAAA,EAAM,SAAO,CAACD,QAAQ,EAAO,CAAC,cAC9BhB,IAAA,CAACH,IAAI,EAACqB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,cACzCjB,IAAA,MAAGoB,OAAO,CAAEN,MAAO,CAAAG,QAAA,CAAC,QAAM,CAAG,CAAC,EAC5B,CACH,CACA,CAACD,QAAQ,eACRd,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACAjB,IAAA,CAACH,IAAI,EAACqB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC9BjB,IAAA,CAACH,IAAI,EAACqB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,EAClC,CACH,EACE,CAAC,EACA,CAAC,CAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}