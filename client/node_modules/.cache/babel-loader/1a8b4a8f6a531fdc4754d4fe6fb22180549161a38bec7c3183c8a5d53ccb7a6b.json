{"ast":null,"code":"import _slicedToArray from\"/Users/akaczmarek/Desktop/usi-project/mern_stack_project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{formatISO9075}from\"date-fns\";import{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{UserContext}from\"../UserContext\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postInfo=_useState2[0],setPostInfo=_useState2[1];var _useContext=useContext(UserContext),userInfo=_useContext.userInfo;useEffect(function(){fetch(\"http://localhost:4000/post/\".concat(id)).then(function(response){response.json().then(function(postInfo){setPostInfo(postInfo);});});},[]);if(!postInfo)return'';return/*#__PURE__*/_jsxs(\"div\",{className:\"post-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:postInfo.title}),/*#__PURE__*/_jsx(\"time\",{children:formatISO9075(new Date(postInfo.createdAt))}),/*#__PURE__*/_jsxs(\"div\",{className:\"author\",children:[\"by @\",postInfo.author.username]}),userInfo.id===postInfo.author._id&&/*#__PURE__*/_jsx(\"div\",{className:\"edit-row\",children:/*#__PURE__*/_jsxs(Link,{className:\"edit-btn\",to:\"/edit/\".concat(postInfo._id),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:1.5,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\"})}),\"Edit this post\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:4000/\".concat(postInfo.cover),alt:\"image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",dangerouslySetInnerHTML:{__html:postInfo.content}})]});}","map":{"version":3,"names":["formatISO9075","useContext","useEffect","useState","useParams","UserContext","Link","jsx","_jsx","jsxs","_jsxs","PostPage","_useParams","id","_useState","_useState2","_slicedToArray","postInfo","setPostInfo","_useContext","userInfo","fetch","concat","then","response","json","className","children","title","Date","createdAt","author","username","_id","to","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","src","cover","alt","dangerouslySetInnerHTML","__html","content"],"sources":["/Users/akaczmarek/Desktop/usi-project/mern_stack_project/client/src/pages/PostPage.js"],"sourcesContent":["import { formatISO9075 } from \"date-fns\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\nimport { Link } from \"react-router-dom\";\n\nexport default function PostPage() {\n    const {id} = useParams();\n    const [postInfo, setPostInfo] = useState(null);\n    const {userInfo} = useContext(UserContext);\n    useEffect(() => {\n        fetch(`http://localhost:4000/post/${id}`)\n        .then(response => {\n            response.json().then(postInfo => {\n            setPostInfo(postInfo);\n            });\n        });\n    }, []);\n\n    if (!postInfo) return '';\n\n    return(\n        <div className=\"post-page\">\n            <h1>{postInfo.title}</h1>\n            <time>{formatISO9075(new Date(postInfo.createdAt))}</time>\n            <div className=\"author\">by @{postInfo.author.username}</div>\n            {userInfo.id === postInfo.author._id && (\n                <div className=\"edit-row\">\n                <Link className=\"edit-btn\" to={`/edit/${postInfo._id}`}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\" />\n                </svg>\n                Edit this post\n                </Link>\n                </div>\n            )}\n            <div className=\"image\">\n                <img src={`http://localhost:4000/${postInfo.cover}`} alt=\"image\" />\n            </div>\n            <div className=\"content\" dangerouslySetInnerHTML={{__html:postInfo.content}} />\n        </div>\n    );\n}"],"mappings":"qJAAA,OAASA,aAAa,KAAQ,UAAU,CACxC,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CAC/B,IAAAC,UAAA,CAAaR,SAAS,CAAC,CAAC,CAAjBS,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,IAAAC,SAAA,CAAgCX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,WAAA,CAAmBlB,UAAU,CAACI,WAAW,CAAC,CAAnCe,QAAQ,CAAAD,WAAA,CAARC,QAAQ,CACflB,SAAS,CAAC,UAAM,CACZmB,KAAK,+BAAAC,MAAA,CAA+BT,EAAE,CAAE,CAAC,CACxCU,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAN,QAAQ,CAAI,CACjCC,WAAW,CAACD,QAAQ,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACA,QAAQ,CAAE,MAAO,EAAE,CAExB,mBACIP,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBnB,IAAA,OAAAmB,QAAA,CAAKV,QAAQ,CAACW,KAAK,CAAK,CAAC,cACzBpB,IAAA,SAAAmB,QAAA,CAAO3B,aAAa,CAAC,GAAI,CAAA6B,IAAI,CAACZ,QAAQ,CAACa,SAAS,CAAC,CAAC,CAAO,CAAC,cAC1DpB,KAAA,QAAKgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,EAAC,MAAI,CAACV,QAAQ,CAACc,MAAM,CAACC,QAAQ,EAAM,CAAC,CAC3DZ,QAAQ,CAACP,EAAE,GAAKI,QAAQ,CAACc,MAAM,CAACE,GAAG,eAChCzB,IAAA,QAAKkB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACzBjB,KAAA,CAACJ,IAAI,EAACoB,SAAS,CAAC,UAAU,CAACQ,EAAE,UAAAZ,MAAA,CAAWL,QAAQ,CAACgB,GAAG,CAAG,CAAAN,QAAA,eACvDnB,IAAA,QAAK2B,KAAK,CAAC,4BAA4B,CAACC,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,WAAW,CAAE,GAAI,CAACC,MAAM,CAAC,cAAc,CAACb,SAAS,CAAC,SAAS,CAAAC,QAAA,cACnInB,IAAA,SAAMgC,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,uPAAuP,CAAE,CAAC,CAC1S,CAAC,iBAEN,EAAM,CAAC,CACF,CACR,cACDlC,IAAA,QAAKkB,SAAS,CAAC,OAAO,CAAAC,QAAA,cAClBnB,IAAA,QAAKmC,GAAG,0BAAArB,MAAA,CAA2BL,QAAQ,CAAC2B,KAAK,CAAG,CAACC,GAAG,CAAC,OAAO,CAAE,CAAC,CAClE,CAAC,cACNrC,IAAA,QAAKkB,SAAS,CAAC,SAAS,CAACoB,uBAAuB,CAAE,CAACC,MAAM,CAAC9B,QAAQ,CAAC+B,OAAO,CAAE,CAAE,CAAC,EAC9E,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}